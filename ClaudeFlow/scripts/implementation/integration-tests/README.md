# 予約システム統合テスト

roughレベル実装の統合テストスイートです。

## テスト構成

### 1. エンドツーエンドシナリオテスト (`e2e-reservation-flow.test.ts`)
- 完全な予約ライフサイクルのテスト
- 複数予約の相互作用テスト
- 日付範囲検索とカレンダー表示の連携テスト
- エラーケースのハンドリングテスト

### 2. 機能間相互作用テスト (`feature-interaction.test.ts`)
- 作成→編集→検索の連携
- 一覧表示とカレンダー表示の同期
- 削除と各表示機能の連携
- 詳細表示と編集の相互作用
- 複数機能での並行アクセス

### 3. データフローテスト (`data-flow.test.ts`)
- データの一貫性確認
- トランザクション的な動作の検証
- データ変換の追跡
- データフィルタリングの連鎖
- データ集計の正確性

## 実行方法

```bash
# 全テスト実行
./run-tests.sh

# 個別テスト実行
npm run test:e2e        # エンドツーエンドテスト
npm run test:interaction # 機能間相互作用テスト
npm run test:dataflow   # データフローテスト

# ウォッチモード
npm run test:watch

# カバレッジ付き実行
npm run test:coverage
```

## テストの特徴

- **roughレベル実装に対応**: エラーハンドリングがない前提でのテスト
- **ハッピーパスフォーカス**: 正常系の動作確認が中心
- **統合シナリオ**: 実際の使用ケースに基づいたテスト

## 主なテストケース

1. **予約の作成から削除まで**: 全ライフサイクルの確認
2. **複数機能の連携**: 各機能が適切にデータを共有
3. **並行処理**: 複数の操作が同時に実行された場合の動作
4. **データ整合性**: 一つの更新が全機能に反映されることの確認
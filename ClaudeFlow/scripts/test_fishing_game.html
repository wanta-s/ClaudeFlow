<\!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>é­šé‡£ã‚Šã‚²ãƒ¼ãƒ å‹•ä½œç¢ºèª</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        .pass { background: #e8f5e9; color: #2e7d32; }
        .fail { background: #ffebee; color: #c62828; }
    </style>
</head>
<body>
    <h1>é­šé‡£ã‚Šã‚²ãƒ¼ãƒ å‹•ä½œãƒ†ã‚¹ãƒˆ</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        let testCount = 0;
        let passCount = 0;
        
        function test(name, fn) {
            testCount++;
            const div = document.createElement('div');
            div.className = 'test';
            
            try {
                fn();
                div.className += ' pass';
                div.innerHTML = `âœ… ${name}`;
                passCount++;
            } catch (e) {
                div.className += ' fail';
                div.innerHTML = `âŒ ${name}<br>ã‚¨ãƒ©ãƒ¼: ${e.message}`;
            }
            
            results.appendChild(div);
        }
        
        // ãƒ†ã‚¹ãƒˆé–‹å§‹
        test('ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å‹•ä½œç¢ºèª', () => {
            localStorage.setItem('test', 'value');
            if (localStorage.getItem('test') \!== 'value') {
                throw new Error('ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã›ã‚“');
            }
            localStorage.removeItem('test');
        });
        
        test('JSONè§£æã®å‹•ä½œç¢ºèª', () => {
            const obj = { name: 'test', value: 123 };
            const json = JSON.stringify(obj);
            const parsed = JSON.parse(json);
            if (parsed.name \!== 'test' || parsed.value \!== 123) {
                throw new Error('JSONå‡¦ç†ãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã›ã‚“');
            }
        });
        
        test('é…åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ“ä½œç¢ºèª', () => {
            const arr = [1, 2, 3];
            const filtered = arr.filter(x => x > 1);
            if (filtered.length \!== 2) {
                throw new Error('é…åˆ—æ“ä½œãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã›ã‚“');
            }
            
            const obj = { a: 1, b: 2 };
            if (\!Object.keys(obj).includes('a')) {
                throw new Error('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ“ä½œãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã›ã‚“');
            }
        });
        
        test('Mathé–¢æ•°ã®å‹•ä½œç¢ºèª', () => {
            const random = Math.random();
            if (random < 0 || random >= 1) {
                throw new Error('Math.randomãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã›ã‚“');
            }
            
            if (Math.floor(3.7) \!== 3) {
                throw new Error('Math.floorãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã›ã‚“');
            }
        });
        
        test('Dateå‡¦ç†ã®å‹•ä½œç¢ºèª', () => {
            const now = new Date();
            const hours = now.getHours();
            if (hours < 0 || hours > 23) {
                throw new Error('Dateå‡¦ç†ãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã›ã‚“');
            }
        });
        
        // çµæœè¡¨ç¤º
        const summary = document.createElement('div');
        summary.style.marginTop = '20px';
        summary.style.fontSize = '18px';
        summary.style.fontWeight = 'bold';
        
        if (passCount === testCount) {
            summary.innerHTML = `ğŸ‰ ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã«åˆæ ¼ã—ã¾ã—ãŸï¼(${passCount}/${testCount})`;
            summary.style.color = '#2e7d32';
        } else {
            summary.innerHTML = `âš ï¸ ä¸€éƒ¨ã®ãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ (${passCount}/${testCount})`;
            summary.style.color = '#f57c00';
        }
        
        results.appendChild(summary);
        
        // å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’iframeã§èª­ã¿è¾¼ã‚€
        const iframe = document.createElement('iframe');
        iframe.src = 'fishinggame.html';
        iframe.style.width = '100%';
        iframe.style.height = '600px';
        iframe.style.marginTop = '20px';
        iframe.style.border = '2px solid #ccc';
        
        const iframeTitle = document.createElement('h2');
        iframeTitle.textContent = 'å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ç”»é¢:';
        iframeTitle.style.marginTop = '30px';
        
        document.body.appendChild(iframeTitle);
        document.body.appendChild(iframe);
    </script>
</body>
</html>
